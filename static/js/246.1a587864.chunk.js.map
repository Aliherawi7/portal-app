{"version":3,"file":"static/js/246.1a587864.chunk.js","mappings":"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","sources":["constants/AttendanceStatusName.js","components/UI/AttendanceStatusBox/AttendanceStatusBox.jsx","pages/AttendanceSheet/AttendanceSheet.jsx","Utils/printTableUtils.js","constants/PrintCssStyles.js"],"sourcesContent":["const AttendanceStatusName = {\r\n    ABSENT: \"ABSENT\",\r\n    PRESENT: \"PRESENT\",\r\n    UNKNOWN: \"UNKNOWN\"\r\n}\r\nexport default AttendanceStatusName","import React, { useState } from 'react'\r\nimport \"./AttendanceStatusBox.css\"\r\nimport ICONS from '../../../constants/Icons'\r\nimport AttendanceStatusName from '../../../constants/AttendanceStatusName'\r\n\r\nfunction AttendanceStatusBox({ attendanceStatus = AttendanceStatusName.UNKNOWN, sendDataToTheAPI, hidden, studentId, dayNumber }) {\r\n    const [attendanceStatusName, setAttendanceStatusName] = useState(attendanceStatus)\r\n    const [icon, setIcon] = useState(getIcon(attendanceStatus))\r\n\r\n    function getIcon(attendanceStatus) {\r\n        if (attendanceStatus == AttendanceStatusName.UNKNOWN) {\r\n            return false\r\n        } else if (attendanceStatus == AttendanceStatusName.PRESENT) {\r\n            return ICONS.thick;\r\n        } else if (attendanceStatus == AttendanceStatusName.ABSENT) {\r\n            return ICONS.cross;\r\n        }\r\n    }\r\n\r\n    const handleOnClick = () => {\r\n        let temp = ''\r\n        if (attendanceStatusName == AttendanceStatusName.UNKNOWN) {\r\n            temp = AttendanceStatusName.PRESENT\r\n            setIcon(ICONS.thick)\r\n        } else if (attendanceStatusName == AttendanceStatusName.PRESENT) {\r\n            temp = AttendanceStatusName.ABSENT\r\n            setIcon(ICONS.cross)\r\n        } else if (attendanceStatusName == AttendanceStatusName.ABSENT) {\r\n            temp = AttendanceStatusName.UNKNOWN\r\n            setIcon(false)\r\n        }\r\n        setAttendanceStatusName(temp)\r\n        console.log(temp)\r\n        sendDataToTheAPI(temp, studentId, dayNumber)\r\n    }\r\n    return (\r\n        !hidden &&\r\n        <div onClick={handleOnClick} className='attendance_status_box' hidden={hidden}>\r\n            {icon && <i className={icon}></i>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AttendanceStatusBox","import React, { useState, useEffect } from \"react\"\r\nimport \"./AttendanceSheet.css\"\r\nimport APIEndpoints from \"../../constants/APIEndpoints\"\r\nimport { useStateValue } from \"../../context/StateProvider\"\r\nimport Button from \"../../components/UI/Button/Button\"\r\nimport { handlePrintTable } from \"../../Utils/printTableUtils\"\r\nimport ICONS from \"../../constants/Icons\"\r\nimport AttendanceStatusBox from \"../../components/UI/AttendanceStatusBox/AttendanceStatusBox\"\r\nimport AttendanceStatusName from \"../../constants/AttendanceStatusName\"\r\nimport { attendanceTableStyles } from \"../../constants/PrintCssStyles\"\r\n\r\nconst AttendanceSheet = () => {\r\n  const [{ authentication }, dispatch] = useStateValue()\r\n  const [semester, setsemester] = useState()\r\n  const [department, setdepartment] = useState()\r\n  const [feildOfStudy, setfeildOfStudy] = useState()\r\n  const [subject, setSubject] = useState()\r\n  const [fields, setFields] = useState([])\r\n  const [departments, setDepartments] = useState([])\r\n  const [semesters, setsemesters] = useState([])\r\n  const [subjects, setSubjects] = useState([])\r\n  const [students, setStudents] = useState([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [date, setDate] = useState(new Date())\r\n  const [monthDetails, setMonthDetails] = useState([])\r\n  const [data, setData] = useState()\r\n\r\n  useEffect(() => {\r\n    fetch(APIEndpoints.root + APIEndpoints.fieldOfStudy.getAll)\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json()\r\n        } else {\r\n          throw new Error(res.statusText)\r\n        }\r\n      })\r\n      .then((data) => {\r\n        setFields(data.content)\r\n      })\r\n  }, [])\r\n\r\n  const setfield = (e) => {\r\n    setdepartment(\"دیپارتمنت\")\r\n    setDepartments([])\r\n    setfeildOfStudy(e.target.value)\r\n    const f = fields.find((item) => {\r\n      return item.fieldName == e.target.value\r\n    })\r\n    fetch(APIEndpoints.root + APIEndpoints.fieldOfStudy.depratments(f.id))\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json()\r\n        } else {\r\n          throw new Error(res.statusText)\r\n        }\r\n      })\r\n      .then((data) => {\r\n        setDepartments(data)\r\n        let sem = []\r\n        for (let i = 1; i <= data[0].semesters; i++) sem.push(i)\r\n        setsemesters(sem)\r\n      })\r\n  }\r\n\r\n  const setDep = (e) => {\r\n    setdepartment(e)\r\n    const d = departments.find((item) => {\r\n      return item.departmentName == e\r\n    })\r\n    let sem = []\r\n    for (let i = 1; i <= d.semesters; i++) { sem.push(i) }\r\n\r\n    setsemesters(sem)\r\n    setSemeter(null)\r\n  }\r\n\r\n  const setSemeter = (e) => {\r\n    setsemester(e?.target?.value)\r\n    let requestParam =\r\n      \"field=\" +\r\n      feildOfStudy +\r\n      \"&department=\" +\r\n      department +\r\n      \"&semester=\" +\r\n      e.target.value\r\n    fetch(\r\n      APIEndpoints.root + APIEndpoints.subjects.subjectSearch + requestParam\r\n    )\r\n      .then((res) => res.json())\r\n      .then((body) => {\r\n        setSubjects(body.records)\r\n      })\r\n  }\r\n\r\n  const handleFilterButton = () => {\r\n    if (!feildOfStudy || !department || !semester || !subject || !date) {\r\n      return\r\n    }\r\n    setStudents([])\r\n    let requestParam = `fieldOfStudy=${feildOfStudy}&semester=${semester}&department=${department}&subject=${subject}&year=${+date.split(\r\n      \"-\"\r\n    )[0]}&month=${+date.split(\"-\")[1]}`\r\n    fetch(\r\n      APIEndpoints.root +\r\n      APIEndpoints.attendances.getStudentAttendances +\r\n      requestParam,\r\n      {\r\n        method: \"GET\",\r\n        headers: {\r\n          Authorization: \"Bearer \" + authentication.token,\r\n        },\r\n      }\r\n    )\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setLoading(false)\r\n        setData(data)\r\n        console.log(data)\r\n        // let days = []\r\n        // for (let i = 1; i <= data.daysInMonth; i++) days.push(i)\r\n        setMonthDetails(data?.monthDetails)\r\n        setStudents(data.students)\r\n      })\r\n  }\r\n\r\n  // this function is used to perform the present and absent operations\r\n  const sendAttendanceDataToAPI = (attendanceStatus, studentId, dayNumber) => {\r\n    let dateObject = new Date(date)\r\n    dateObject.setFullYear(date.getFullYear)\r\n\r\n    // create the request body\r\n    const body = {\r\n      attendanceStatus: attendanceStatus,\r\n      yearNumber: +date.split(\"-\")[0],\r\n      monthNumber: +date.split(\"-\")[1],\r\n      dayNumber: +dayNumber,\r\n      fieldOfStudy: feildOfStudy,\r\n      department: department,\r\n      subject: subject,\r\n      semester: +semester,\r\n      studentId: studentId,\r\n    }\r\n    console.log(body)\r\n    // make an api call in here\r\n    fetch(APIEndpoints.root + APIEndpoints.attendances.addAttendance, {\r\n      method: \"POST\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + authentication.token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((body) => console.log(body))\r\n\r\n    let studentIndex = students.findIndex((item) => {\r\n      return item.studentId == studentId\r\n    })\r\n    let attendanceIndex = students[studentIndex].monthlyAttendance.findIndex(\r\n      (item) => {\r\n        return item.day == dayNumber\r\n      }\r\n    )\r\n    // update the state\r\n    let updatedStudent = { ...students[studentIndex] }\r\n    updatedStudent.monthlyAttendance[attendanceIndex].attendanceStatusName = attendanceStatus\r\n    console.log(\"attendance name: \" + attendanceStatus)\r\n    // calculate the total absent and present days\r\n    if (attendanceStatus == AttendanceStatusName.PRESENT) {\r\n      updatedStudent.totalPresent = updatedStudent.totalPresent + 1\r\n    } else if (attendanceStatus == AttendanceStatusName.ABSENT) {\r\n      updatedStudent.totalPresent -= 1\r\n      updatedStudent.totalAbsent += 1\r\n    } else if (attendanceStatus == AttendanceStatusName.UNKNOWN) {\r\n      updatedStudent.totalAbsent -= 1\r\n    }\r\n\r\n    students[studentIndex] = updatedStudent\r\n    setStudents([...students])\r\n  }\r\n\r\n  // print attendance table \r\n  const printTable = () => {\r\n    let pageTitle = `جدول حاضری  مضمون ${subject} تاریخ ${date} سمستر ${semester} دیپارتمنت ${department}`;\r\n    handlePrintTable(pageTitle, attendanceTableStyles)\r\n  }\r\n\r\n  return (\r\n    <div className=\"attendance\">\r\n      {/* Here you can add Faculty */}\r\n      <div className=\"attendance_faculty\">\r\n        <h2>حـاضـری مـربـوطـه را انـتخـاب نـمـایـد</h2>\r\n        <div className=\"posts_management_boxes \">\r\n          <div className=\"post_mana_box \">\r\n            <label>پوهنحی</label>\r\n            <select\r\n              id=\"type\"\r\n              value={feildOfStudy}\r\n              onChange={(e) => setfield(e)}\r\n              defaultValue=\"پوهنحی\"\r\n            >\r\n              <option disabled>پوهنحی</option>\r\n              {fields.map((item) => {\r\n                return <option key={item.id}>{item.fieldName}</option>\r\n              })}\r\n            </select>\r\n          </div>\r\n          <div className=\"post_mana_box \">\r\n            <label>دیپارتمنت</label>\r\n            <select\r\n              id=\"type\"\r\n              value={department}\r\n              onChange={(e) => setDep(e.target.value)}\r\n              defaultValue=\"دیپارتمنت\"\r\n            >\r\n              <option disabled>دیپارتمنت</option>\r\n              {departments.map((item) => {\r\n                return <option key={item.id}>{item.departmentName}</option>\r\n              })}\r\n            </select>\r\n          </div>\r\n          <div className=\"post_mana_box \">\r\n            <label>سمستر</label>\r\n            <select\r\n              id=\"type\"\r\n              value={semester}\r\n              onChange={(e) => setSemeter(e)}\r\n              defaultValue=\"سمستر\"\r\n            >\r\n              <option disabled>سمستر</option>\r\n              {semesters.map((sem) => {\r\n                return <option key={sem}>{sem}</option>\r\n              })}\r\n            </select>\r\n          </div>\r\n          <div className=\"post_mana_box  \">\r\n            <label>مضمون</label>\r\n            <select\r\n              id=\"type\"\r\n              value={subject}\r\n              onChange={(e) => setSubject(e.target.value)}\r\n              defaultValue=\"مضمون\"\r\n            >\r\n              <option disabled>مضمون</option>\r\n              {subjects.map((sub) => {\r\n                return <option key={sub.id}>{sub.name}</option>\r\n              })}\r\n            </select>\r\n          </div>\r\n          <div className=\"post_mana_box \">\r\n            <label>تاریخ</label>\r\n            <input\r\n              type=\"month\"\r\n              id=\"type\"\r\n              value={date}\r\n              onChange={(e) => setDate(e.target.value)}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"attendance_faculty_btn display_flex align_items_center justify_content_center posts_management_filter_btn\">\r\n          <button className=\"btn\" onClick={handleFilterButton}>\r\n            دریافت حاضری\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n\r\n      {students?.length > 0 && (\r\n        <>\r\n          <div className=\"attendance_content box_shadow \" id=\"attendance_table_container\">\r\n            <div className=\"attendance_header display_grid\">\r\n              <div className=\"attendance_header_boxes display_grid text_align_center\">\r\n                <div className=\"attendance_header_box\">\r\n                  <p>پـوهـنـحـی</p>\r\n                  <p>{feildOfStudy}</p>\r\n                </div>\r\n                <div className=\"attendance_header_box\">\r\n                  <p>دیـپـارتـمـنـت</p>\r\n                  <p>{department}</p>\r\n                </div>\r\n                <div className=\"attendance_header_box\">\r\n                  <p>سمـسـتـر</p>\r\n                  <p>{semester}</p>\r\n                </div>\r\n                <div className=\"attendance_header_box\">\r\n                  <p>مـضـمـون</p>\r\n                  <p>{subject}</p>\r\n                </div>\r\n                <div className=\"attendance_header_box\">\r\n                  <p>تـاریـخ</p>\r\n                  <p>{date}</p>\r\n                </div>\r\n                <div className=\"attendance_header_box\">\r\n                  <p>تـعـداد کـردیـت ها</p>\r\n                  <p>{\r\n                    subjects.find(item => item.name == subject)?.credit\r\n                  }</p>\r\n                </div>\r\n              </div>\r\n\r\n              <table className=\"attendance_header_keys\">\r\n                <tr>\r\n                  <th colspan=\"2\">کـلـیـد واژه ها</th>\r\n                </tr>\r\n                <tr>\r\n                  <td>ح</td>\r\n                  <td>حاضر</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>غ</td>\r\n                  <td>غیر حاضر</td>\r\n                </tr>\r\n              </table>\r\n            </div>\r\n\r\n            <table className=\"attendance_table\">\r\n              <thead>\r\n                <tr>\r\n                  <td id=\"number_counter\">شـمـاره</td>\r\n                  <td id=\"student_name\">نـام</td>\r\n                  <td id=\"student_lastname\">نـام پـدر</td>\r\n                  {monthDetails?.map((item, index) => {\r\n                    return (\r\n                      <td\r\n                        key={index}\r\n                        className={\r\n                          \"data_cell \" + (item.isHoliday ? \"holiday\" : \"\")\r\n                        }\r\n                      >\r\n                        <p>{item?.dayOfWeek?.substring(0, 2)}</p>\r\n                        {item?.dayOfMonth}\r\n                      </td>\r\n                    )\r\n                  })}\r\n                  <td>ح</td>\r\n                  <td>غ</td>\r\n                  <td>مجموعه</td>\r\n                </tr>\r\n              </thead>\r\n\r\n              <tbody className=\"attendance_details\">\r\n                {students?.map((student, index) => {\r\n                  return (\r\n                    <tr key={index}>\r\n                      <td>{index + 1}</td>\r\n                      <td>{student?.name}</td>\r\n                      <td>{student?.fatherName}</td>\r\n                      {student?.monthlyAttendance?.map((item, index) => {\r\n                        return (\r\n                          <td\r\n                            key={index}\r\n                            className={\r\n                              \"data_cell text_align_center align_items_center justify_content_center \" +\r\n                              (item.isHoliday ? \"holiday\" : \"\")\r\n                            }\r\n                          >\r\n                            {/* <input\r\n                              type=\"checkbox\"\r\n                              hidden={item.isHoliday}\r\n                              checked={item.isPresent}\r\n                              onChange={(e) =>\r\n                                presentOrAbsentActions(\r\n                                  e,\r\n                                  student.studentId,\r\n                                  item.day\r\n                                )\r\n                              }\r\n                            /> */}\r\n                            <AttendanceStatusBox\r\n                              attendanceStatus={item.attendanceStatusName}\r\n                              hidden={item.isHoliday}\r\n                              dayNumber={item.day}\r\n                              studentId={student.studentId}\r\n                              sendDataToTheAPI={sendAttendanceDataToAPI} />\r\n                          </td>\r\n                        )\r\n                      })}\r\n                      <td>{student?.totalPresent}</td>\r\n                      <td>{student?.totalAbsent}</td>\r\n                      <td>{data?.daysWithoutHolidays}</td>\r\n                    </tr>\r\n                  )\r\n                })}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          <div className=\"print_button text_align_center\">\r\n            <Button\r\n              text={\"پرینت حاضری\"}\r\n              icon={ICONS.printer}\r\n              onClick={printTable}\r\n            />\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AttendanceSheet\r\n","\r\nexport const handlePrintTable = (pageTitle = 'جدول حاضری', style) => {\r\n  const printContent = document.getElementById('attendance_table_container');\r\n  const printWindow = window.open('', '_blank');\r\n  const htmlContent = `\r\n    <html>\r\n      <head>\r\n      <title>${pageTitle}</title>\r\n      <link rel=\"stylesheet\" href=\"/css/bootstrap-icons.css\">\r\n        <style>\r\n\r\n          :root{\r\n            --gen-color: #40e0f1;\r\n            --gen-color-hover: #40e0f1;\r\n            --gen-bg-color: #ffffff94;\r\n            --gen-main-bg: #ffffff85;\r\n            --navbar-bg: #ffffff54;\r\n            --text-color: #000;\r\n            --icon-faculties-color: #fff;\r\n            --btn-bg-color: #6dc7f1f3;\r\n            --show-color: #22222283;\r\n            --input-box-color: #fff;\r\n            --light-dark: #fff\r\n          }\r\n          * {\r\n            padding: 0;\r\n            margin: 0;\r\n            box-sizing: border-box;\r\n            font-family: vazir_l, -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\",\r\n              \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\",\r\n              sans-serif;\r\n            scroll-behavior: smooth;\r\n            -webkit-font-smoothing: antialiased;\r\n            -moz-osx-font-smoothing: grayscale;\r\n            direction: rtl;\r\n          }\r\n          ${style}\r\n        </style>\r\n      </head>\r\n      <body>\r\n        ${printContent.innerHTML}\r\n      </body>\r\n    </html>\r\n  `;\r\n  printWindow.document.write(htmlContent);\r\n  printWindow.document.close();\r\n  setTimeout(() => {\r\n    printWindow.print();\r\n  }, 500);\r\n\r\n};\r\n","export const attendanceTableStyles = `\r\n/* Attendance Content */\r\n          .attendance_content {\r\n            margin: 2rem 0 0.8rem 0;\r\n            border: 1px solid var(--gen-color);\r\n            width: 100%;\r\n            border-radius: 1px;\r\n            padding: 15px 10px;\r\n            overflow-x: scroll;\r\n          }\r\n\r\n          /* Attendance Header */\r\n          .attendance_header {\r\n            display: flex;\r\n            gap: 5px;\r\n            width: 100%;\r\n          }\r\n\r\n\r\n          .attendance_header_boxes {\r\n            display:grid;\r\n            grid-template-columns: repeat(3, 1fr);\r\n            grid-gap: 5px;\r\n            min-width: 770px;\r\n            max-width: 100%;\r\n            flex: 1;\r\n          }\r\n\r\n          .attendance_header_boxes .attendance_header_box {\r\n            border: 1px solid var(--gen-color);\r\n            width: 100%;\r\n          }\r\n\r\n          .attendance_header_boxes .attendance_header_box p {\r\n            font-size: 14.5px;\r\n            padding: 3px;\r\n          }\r\n\r\n          .attendance_header_boxes .attendance_header_box p:first-child {\r\n            background-color: var(--gen-bg-color);\r\n            font-size: 15px;\r\n            font-weight: bold;\r\n          }\r\n\r\n          /* keys */\r\n          .attendance_header_keys {\r\n            min-width: 194px;\r\n            max-width: 100%;\r\n            border: 1px solid var(--gen-color);\r\n            border-collapse: collapse;\r\n          }\r\n\r\n          .attendance_header_keys tr {\r\n            border: 1px solid var(--gen-color);\r\n            width: 100%;\r\n            text-align: center;\r\n          }\r\n\r\n          .attendance_header_keys tr th {\r\n            border-collapse: collapse;\r\n            background-color: var(--gen-bg-color);\r\n          }\r\n\r\n          .attendance_header_keys tr td {\r\n            font-size: 14px;\r\n            font-weight: bold;\r\n            border: 1px solid var(--gen-color);\r\n          }\r\n\r\n          /* End of Attendance Header */\r\n\r\n          .attendance_table {\r\n            margin-top: 1.7rem;\r\n            border: 1px solid #000;\r\n            border-collapse: collapse;\r\n            min-width: 970px;\r\n            width: 100%;\r\n          }\r\n\r\n          .holiday {\r\n            background-color: var(--gen-bg-color);\r\n            border: 1px solid var(--gen-bg-color);\r\n          }\r\n\r\n          tr {\r\n            height: 20px;\r\n          }\r\n\r\n          .attendance_table tr {\r\n            row-gap: 1px;\r\n          }\r\n\r\n          .attendance_table #number_counter {\r\n            width: 30px;\r\n          }\r\n\r\n          .attendance_table #student_name,\r\n          .attendance_table #student_lastname {\r\n            width: 100px;\r\n          }\r\n\r\n          .attendance_table tr:nth-child(even) {\r\n            background-color: var(--gen-bg-color);\r\n          }\r\n\r\n          .attendance_table thead tr td {\r\n            font-size: 12px;\r\n            font-weight: bold;\r\n          }\r\n\r\n          .attendance_table tr td {\r\n            border: 1px solid var(--gen-color);\r\n            font-size: 12px;\r\n            padding: 2px;\r\n            width: 2rem;\r\n            text-align: center;\r\n          }\r\n\r\n          .attendance_table tr .data_cell {\r\n            text-align: center;\r\n            padding: 2px;\r\n            align-items: center;\r\n            justify-content: center;\r\n            position: relative;\r\n            width: 1.44rem;\r\n            height: 0.5rem;\r\n          }\r\n\r\n          .attendance_table tr .data_cell input {\r\n            position: absolute;\r\n            top: 3px;\r\n            left: 3px;\r\n            right: 3px;\r\n            bottom: 3px;\r\n          }\r\n\r\n          .attendance_table tr .data_cell input[type=\"checkbox\"] {\r\n            accent-color: blue;\r\n          }\r\n\r\n          .attendance_status_box {\r\n              width: 20px;\r\n              height: 20px;\r\n              display: flex;\r\n              align-items: center;\r\n              justify-content: center;\r\n              font-size: 24px;\r\n              /* border: 1px solid var(--gen-color); */\r\n          }\r\n\r\n          .attendance_status_box i {\r\n              margin-top: 6px;\r\n          }\r\n`;"],"names":["ABSENT","PRESENT","UNKNOWN","attendanceStatus","AttendanceStatusName","sendDataToTheAPI","hidden","studentId","dayNumber","useState","attendanceStatusName","setAttendanceStatusName","ICONS","getIcon","icon","setIcon","onClick","temp","console","log","className","useStateValue","authentication","semester","setsemester","department","setdepartment","feildOfStudy","setfeildOfStudy","subject","setSubject","fields","setFields","departments","setDepartments","semesters","setsemesters","subjects","setSubjects","students","setStudents","setLoading","Date","date","setDate","monthDetails","setMonthDetails","data","setData","useEffect","fetch","APIEndpoints","then","res","ok","json","Error","statusText","content","setSemeter","e","target","value","requestParam","body","records","sendAttendanceDataToAPI","setFullYear","getFullYear","yearNumber","split","monthNumber","fieldOfStudy","method","headers","Authorization","token","JSON","stringify","studentIndex","findIndex","item","attendanceIndex","monthlyAttendance","day","updatedStudent","totalPresent","totalAbsent","id","onChange","f","find","fieldName","sem","i","push","setfield","defaultValue","disabled","map","d","departmentName","setDep","sub","name","type","length","credit","colspan","index","isHoliday","dayOfWeek","substring","dayOfMonth","student","fatherName","daysWithoutHolidays","Button","text","pageTitle","style","printContent","document","getElementById","printWindow","window","open","htmlContent","innerHTML","write","close","setTimeout","print","handlePrintTable"],"sourceRoot":""}