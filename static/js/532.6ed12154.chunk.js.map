{"version":3,"file":"static/js/532.6ed12154.chunk.js","mappings":"sRA2bA,EAhbsB,SAAH,GAA4B,IAAtBA,EAAc,EAAdA,gBACvBC,EAAAA,EAAAA,GAAW,CAAEC,MAAO,CAACC,EAAAA,EAAAA,SACrB,IAAQC,GAAOC,EAAAA,EAAAA,MAAPD,GACR,GAA8BE,EAAAA,EAAAA,UAAS,CAAC,GAAE,eAA1BC,GAAF,KAAY,MAC1B,GAAgCC,EAAAA,EAAAA,MAAe,eAAxCC,EAAW,KAAEC,EAAQ,MAE5BC,EAAAA,EAAAA,YAAU,WACRC,MAAMC,EAAAA,EAAAA,KAAoBA,EAAAA,EAAAA,SAAAA,WAAiCT,GAAK,CAC9DU,OAAQ,MACRC,QAAS,CACPC,cAAe,UAAYP,EAAYQ,eAAeC,SAGvDC,MAAK,SAACC,GACL,GAAIA,EAAIC,GACN,OAAOD,EAAIE,MAEf,IACCH,MAAK,SAACI,GACLhB,EAAWgB,GACXb,EAAS,CACPc,KAAMC,EAAAA,GAAAA,yBACNC,QAASH,EAAKI,sBAEhBjB,EAAS,CACPc,KAAMC,EAAAA,GAAAA,kBACNC,QAAS,CACPE,KAAM,KACNC,IAAKN,EAAKO,SACVC,MAAM,KAGVrB,EAAS,CACPc,KAAMC,EAAAA,GAAAA,2BACNC,QAASH,EAAKS,iBAEhB,IAAIC,EAAmB,CAAC,EACxBV,EAAKW,UAAUC,SAAQ,SAACC,GACG,sBAArBA,EAAKC,aACPJ,GAAgB,kBAAQA,GAAgB,IAAEK,OAAQF,IACpB,4BAArBA,EAAKC,aACdJ,GAAgB,kBAAQA,GAAgB,IAAEM,MAAOH,IACnB,4BAArBA,EAAKC,aACdJ,GAAgB,kBAAQA,GAAgB,IAAEO,KAAMJ,IAClB,kCAArBA,EAAKC,eACdJ,GAAgB,kBAAQA,GAAgB,IAAEQ,QAASL,IAEvD,IACA1B,EAAS,CACPc,KAAMC,EAAAA,GAAAA,sBACNC,QAASO,IAEX,IAAIS,EAAmB,CAAC,EACxBnB,EAAKoB,UAAUR,SAAQ,SAACC,GAEpBM,EADEN,EAAKQ,SACS,kBAAQF,GAAgB,IAAEG,SAAUT,KAEpC,kBAAQM,GAAgB,IAAEE,QAASR,GAEvD,IAEA1B,EAAS,CACPc,KAAMC,EAAAA,GAAAA,uBACNC,QAASgB,GAEb,GACJ,GAAG,CAACtC,IAEJ,IA6BM0C,EAAmB,SAAChB,EAAUiB,GAClC,IAAMC,EAAW,IAAIC,SACrBD,EAASE,OAAO,OAAQH,GACxBnC,MAAMkB,EAAU,CACdhB,OAAQ,OACRC,QAAS,CACPC,cAAe,UAAYP,EAAYQ,eAAeC,OAExDiC,KAAMH,IAEL7B,MAAK,SAACC,GAAG,OAAKA,EAAIE,MAAM,IACxBH,MAAK,SAACI,GACkB,KAAnBA,EAAK6B,WAITpD,EAAeuB,GAHbvB,GAAe,kBAAKuB,GAAI,IAAE8B,YAAY,IAI1C,GACJ,EAEMC,EAAyB,SAACC,EAAGC,GACjC,OAAQA,GACN,IAAK,0BAAa,IAAD,EACf9C,EAAS,CACPc,KAAMC,EAAAA,GAAAA,sBACNC,SAAQ,kBACHjB,EAAYwB,kBAAgB,IAC/BK,QAAO,kBAC0B,QAD1B,EACF7B,EAAYwB,wBAAgB,aAA5B,EAA8BK,QAAM,IACvCmB,KAAMF,EAAEG,OAAOC,MACftB,aAAc,2BAIpB,MAEF,IAAK,yBAAY,IAAD,EACd3B,EAAS,CACPc,KAAMC,EAAAA,GAAAA,sBACNC,SAAQ,kBACHjB,EAAYwB,kBAAgB,IAC/BK,QAAO,kBAC0B,QAD1B,EACF7B,EAAYwB,wBAAgB,aAA5B,EAA8BK,QAAM,IACvCsB,IAAKL,EAAEG,OAAOC,YAIpB,MAEF,IAAK,iCAAoB,IAAD,EACtBjD,EAAS,CACPc,KAAMC,EAAAA,GAAAA,sBACNC,SAAQ,kBACHjB,EAAYwB,kBAAgB,IAC/BK,QAAO,kBAC0B,QAD1B,EACF7B,EAAYwB,wBAAgB,aAA5B,EAA8BK,QAAM,IACvCuB,YAAaN,EAAEG,OAAOC,YAI5B,MAGF,IAAK,iCAAoB,IAAD,EACtBjD,EAAS,CACPc,KAAMC,EAAAA,GAAAA,sBACNC,SAAQ,kBACHjB,EAAYwB,kBAAgB,IAC/BK,QAAO,kBAC0B,QAD1B,EACF7B,EAAYwB,wBAAgB,aAA5B,EAA8BK,QAAM,IACvCwB,YAAaP,EAAEG,OAAOC,YAI5B,MAEF,IAAK,gCAAc,IAAD,EAChBjD,EAAS,CACPc,KAAMC,EAAAA,GAAAA,sBACNC,SAAQ,kBACHjB,EAAYwB,kBAAgB,IAC/BM,OAAM,kBAC2B,QAD3B,EACD9B,EAAYwB,wBAAgB,aAA5B,EAA8BM,OAAK,IACtCkB,KAAMF,EAAEG,OAAOC,MACftB,aAAc,iCAIpB,MAEF,IAAK,+BAAa,IAAD,EACf3B,EAAS,CACPc,KAAMC,EAAAA,GAAAA,sBACNC,SAAQ,kBACHjB,EAAYwB,kBAAgB,IAC/BM,OAAM,kBAC2B,QAD3B,EACD9B,EAAYwB,wBAAgB,aAA5B,EAA8BM,OAAK,IACtCqB,IAAKL,EAAEG,OAAOC,YAIpB,MAEF,IAAK,uCAAqB,IAAD,EACvBjD,EAAS,CACPc,KAAMC,EAAAA,GAAAA,sBACNC,SAAQ,kBACHjB,EAAYwB,kBAAgB,IAC/BM,OAAM,kBAC2B,QAD3B,EACD9B,EAAYwB,wBAAgB,aAA5B,EAA8BM,OAAK,IACtCsB,YAAaN,EAAEG,OAAOC,YAI5B,MAEF,IAAK,uCAAqB,IAAD,EACvBjD,EAAS,CACPc,KAAMC,EAAAA,GAAAA,sBACNC,SAAQ,kBACHjB,EAAYwB,kBAAgB,IAC/BM,OAAM,kBAC2B,QAD3B,EACD9B,EAAYwB,wBAAgB,aAA5B,EAA8BM,OAAK,IACtCuB,YAAaP,EAAEG,OAAOC,YAI5B,MAEF,IAAK,gCAAc,IAAD,EAChBjD,EAAS,CACPc,KAAMC,EAAAA,GAAAA,sBACNC,SAAQ,kBACHjB,EAAYwB,kBAAgB,IAC/BO,MAAK,kBAC4B,QAD5B,EACA/B,EAAYwB,wBAAgB,aAA5B,EAA8BO,MAAI,IACrCiB,KAAMF,EAAEG,OAAOC,MACftB,aAAc,iCAIpB,MAEF,IAAK,+BAAa,IAAD,EACf3B,EAAS,CACPc,KAAMC,EAAAA,GAAAA,sBACNC,SAAQ,kBACHjB,EAAYwB,kBAAgB,IAC/BO,MAAK,kBAC4B,QAD5B,EACA/B,EAAYwB,wBAAgB,aAA5B,EAA8BO,MAAI,IACrCoB,IAAKL,EAAEG,OAAOC,YAIpB,MAEF,IAAK,uCAAqB,IAAD,EACvBjD,EAAS,CACPc,KAAMC,EAAAA,GAAAA,sBACNC,SAAQ,kBACHjB,EAAYwB,kBAAgB,IAC/BO,MAAK,kBAC4B,QAD5B,EACA/B,EAAYwB,wBAAgB,aAA5B,EAA8BO,MAAI,IACrCqB,YAAaN,EAAEG,OAAOC,YAI5B,MAEF,IAAK,uCAAqB,IAAD,EACvBjD,EAAS,CACPc,KAAMC,EAAAA,GAAAA,sBACNC,SAAQ,kBACHjB,EAAYwB,kBAAgB,IAC/BO,MAAK,kBAC4B,QAD5B,EACA/B,EAAYwB,wBAAgB,aAA5B,EAA8BO,MAAI,IACrCsB,YAAaP,EAAEG,OAAOC,YAI5B,MAEF,IAAK,sCAAe,IAAD,EACjBjD,EAAS,CACPc,KAAMC,EAAAA,GAAAA,sBACNC,SAAQ,kBACHjB,EAAYwB,kBAAgB,IAC/BQ,SAAQ,kBACyB,QADzB,EACHhC,EAAYwB,wBAAgB,aAA5B,EAA8BQ,SAAO,IACxCgB,KAAMF,EAAEG,OAAOC,MACftB,aAAc,uCAIpB,MAEF,IAAK,qCAAc,IAAD,EAChB3B,EAAS,CACPc,KAAMC,EAAAA,GAAAA,sBACNC,SAAQ,kBACHjB,EAAYwB,kBAAgB,IAC/BQ,SAAQ,kBACyB,QADzB,EACHhC,EAAYwB,wBAAgB,aAA5B,EAA8BQ,SAAO,IACxCmB,IAAKL,EAAEG,OAAOC,YAIpB,MAEF,IAAK,6CAAsB,IAAD,EACxBjD,EAAS,CACPc,KAAMC,EAAAA,GAAAA,sBACNC,SAAQ,kBACHjB,EAAYwB,kBAAgB,IAC/BQ,SAAQ,kBACyB,QADzB,EACHhC,EAAYwB,wBAAgB,aAA5B,EAA8BQ,SAAO,IACxCoB,YAAaN,EAAEG,OAAOC,YAI5B,MAEF,IAAK,6CAAsB,IAAD,EACxBjD,EAAS,CACPc,KAAMC,EAAAA,GAAAA,sBACNC,SAAQ,kBACHjB,EAAYwB,kBAAgB,IAC/BQ,SAAQ,kBACyB,QADzB,EACHhC,EAAYwB,wBAAgB,aAA5B,EAA8BQ,SAAO,IACxCqB,YAAaP,EAAEG,OAAOC,YAOlC,EACA,OACE,iCACE,gBAAKI,UAAU,gBAAe,UAC5B,iBAAKA,UAAU,gBAAe,WAC5B,eAAIA,UAAU,oBAAmB,SAAC,gIAGlC,gBAAKA,UAAU,mDAAkD,UAC/D,SAACC,EAAA,EAAmB,CAACC,aAAa,OAIpC,gBAAKF,UAAU,wDAAuD,UACpE,SAACG,EAAA,EAAiB,MAInBzD,EAAYwB,kBACXkC,OAAOC,KAAK3D,EAAYwB,kBAAkBoC,KAAI,SAACjC,GAE7C,OADAA,EAAO3B,EAAYwB,iBAAiBG,IAElC,iBACE2B,UAAU,uDAAsD,WAGhE,gBAAKA,UAAU,4BAA2B,UACxC,0BACyB,6BAAtB3B,EAAKC,cACgB,6BAAtBD,EAAKC,aACDD,EAAKC,aAAe,SACpBD,EAAKC,aAAc,IAAI,6CAI/B,qBAAS0B,UAAU,cAAa,WAC9B,iBAAKA,UAAU,YAAW,WACxB,2BAAO,wBACP,kBACEvC,KAAK,OACLmC,MAAOvB,EAAKqB,KACZa,SAAU,SAACf,GAAC,OACVD,EAAuBC,EAAGnB,EAAKC,aAAe,QAAQ,QAI5D,iBAAK0B,UAAU,YAAW,WACxB,2BAAO,oCACP,kBACEvC,KAAK,OACLmC,MAAOvB,EAAKwB,IACZU,SAAU,SAACf,GAAC,OACVD,EAAuBC,EAAGnB,EAAKC,aAAe,OAAO,QAI3D,iBAAK0B,UAAU,YAAW,WACxB,2BAAO,uDACP,kBACEvC,KAAK,OACLmC,MAAOvB,EAAKyB,YACZS,SAAU,SAACf,GAAC,OACVD,EACEC,EACAnB,EAAKC,aAAe,eACrB,QAIP,iBAAK0B,UAAU,YAAW,WACxB,2BAAO,6DACP,kBACEvC,KAAK,MACLpB,GAAG,QACHqD,KAAK,QACLc,QAAQ,6BACRC,UAAQ,EACRb,MAAOvB,EAAK0B,YACZQ,SAAU,SAACf,GAAC,OACVD,EACEC,EACAnB,EAAKC,aAAe,eACrB,YA1DJD,EAAKC,aAiEhB,UAGN,gBAAK0B,UAAU,oBAAoBU,MAAO,CAAEC,WAAY,QAAS,UAC/D,SAACC,EAAA,EAAM,CAACC,KAAM,oGAAqBC,QAtWZ,WAC3B,IAAMC,EAAY,GAClB,IAAK,IAAIC,KAAKtE,EAAYwB,iBACxB6C,EAAUE,KAAKvE,EAAYwB,iBAAiB8C,IAE9C,IAAME,EAAO,CACXtD,oBAAqBlB,EAAYkB,oBACjCO,UAAW4C,EACXnC,UAAWlC,EAAYiC,iBACvBV,eAAgBvB,EAAYyE,qBAE9BtE,MAAMC,EAAAA,EAAAA,KAAoBA,EAAAA,EAAAA,SAAAA,cAAoCT,GAAK,CACjEU,OAAQ,MACRC,QAAS,CACPC,cAAe,UAAYP,EAAYQ,eAAeC,MACtD,eAAgB,oBAElBiC,KAAMgC,KAAKC,UAAUH,KAEpB9D,MAAK,SAACC,GAAG,OAAKA,EAAIE,MAAM,IACxBH,MAAK,SAACI,GACDd,EAAY4E,aAAazD,MAC3BkB,EAAiBvB,EAAKO,SAAUrB,EAAY4E,aAAazD,MAE3D5B,GAAe,kBAAKuB,GAAI,IAAE+D,MAAM,IAClC,IACCC,OAAM,SAACC,GAAK,OAAKxF,EAAewF,EAAM,GAC3C,QA+UF,E,6BCtZA,EA3B0B,WACxB,IAAMC,GAAWC,EAAAA,EAAAA,MACjB,GAAsCpF,EAAAA,EAAAA,UAAS,CAAC,GAAE,eAA3CqF,EAAW,KAAEC,EAAc,KAElC,OACE,iBAAK7B,UAAU,+BAA8B,WAE3C,SAAC,EAAa,CAAC/D,eAAgB4F,KAG/B,SAACC,EAAA,EAAQ,CAACP,KAAMK,EAAYL,KAAK,UAE7B,SAACQ,EAAA,EAAU,CACTC,YAAY,OACZC,SAAU,CACRC,QAAS,iCACTpB,QAAS,kBAAMY,EAAS,kBAAkB,GAE5CS,QAASP,EAAYO,QACrBC,SAAUC,EAAAA,EAAAA,WAMtB,C","sources":["components/UpdateStudent/UpdateStudent.jsx","pages/UpdateStudentPage/UpdateStudentPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\"\r\nimport { useParams } from \"react-router-dom\"\r\nimport { useStateValue } from \"../../context/StateProvider\"\r\nimport useProtect from \"../../Hooks/useProtect\"\r\nimport APIEndpoints from \"../../constants/APIEndpoints\"\r\nimport Roles from \"../../constants/Roles\"\r\nimport { PersonalInformation } from \"../Steps/PersonalInformation\"\r\nimport { StudentHabitation } from \"../Steps/StudentHabitation\"\r\nimport { actionTypes } from \"../../context/reducer\"\r\nimport Button from \"../UI/Button/Button\"\r\n\r\nconst UpdateStudent = ({ setApiResponse }) => {\r\n  useProtect({ roles: [Roles.ADMIN] })\r\n  const { id } = useParams()\r\n  const [student, setStudent] = useState({})\r\n  const [globalState, dispatch] = useStateValue()\r\n\r\n  useEffect(() => {\r\n    fetch(APIEndpoints.root + APIEndpoints.students.getStudent(id), {\r\n      method: \"GET\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + globalState.authentication.token,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json()\r\n        }\r\n      })\r\n      .then((data) => {\r\n        setStudent(data)\r\n        dispatch({\r\n          type: actionTypes.ADD_STUDENT_PERONAL_INFO,\r\n          payload: data.studentPersonalInfo,\r\n        })\r\n        dispatch({\r\n          type: actionTypes.ADD_STUDENT_IMAGE,\r\n          payload: {\r\n            file: null,\r\n            url: data.imageUrl,\r\n            isOk: true,\r\n          },\r\n        })\r\n        dispatch({\r\n          type: actionTypes.ADD_STUDENT_IDENTIFICATION,\r\n          payload: data.identification,\r\n        })\r\n        let studentRelations = {}\r\n        data.relatives.forEach((item) => {\r\n          if (item.relationship == \"پدر\") {\r\n            studentRelations = { ...studentRelations, father: item }\r\n          } else if (item.relationship == \"کاکا\") {\r\n            studentRelations = { ...studentRelations, uncle: item }\r\n          } else if (item.relationship == \"ماما\") {\r\n            studentRelations = { ...studentRelations, aunt: item }\r\n          } else if (item.relationship == \"برادر\") {\r\n            studentRelations = { ...studentRelations, brother: item }\r\n          }\r\n        })\r\n        dispatch({\r\n          type: actionTypes.ADD_STUDENT_RELATIONS,\r\n          payload: studentRelations,\r\n        })\r\n        let studentLocations = {}\r\n        data.locations.forEach((item) => {\r\n          if (item.current) {\r\n            studentLocations = { ...studentLocations, previous: item }\r\n          } else {\r\n            studentLocations = { ...studentLocations, current: item }\r\n          }\r\n        })\r\n\r\n        dispatch({\r\n          type: actionTypes.ADD_STIUDENT_LOCATIONS,\r\n          payload: studentLocations,\r\n        })\r\n      })\r\n  }, [id])\r\n\r\n  const sendInformationToAPI = () => {\r\n    const relations = []\r\n    for (let r in globalState.studentRelations) {\r\n      relations.push(globalState.studentRelations[r])\r\n    }\r\n    const info = {\r\n      studentPersonalInfo: globalState.studentPersonalInfo,\r\n      relatives: relations,\r\n      locations: globalState.studentLocations,\r\n      identification: globalState.studentIdenfication,\r\n    }\r\n    fetch(APIEndpoints.root + APIEndpoints.students.updateStudent(id), {\r\n      method: \"PUT\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + globalState.authentication.token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(info),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (globalState.studentImage.file) {\r\n          sendStudentImage(data.imageUrl, globalState.studentImage.file)\r\n        }\r\n        setApiResponse({ ...data, show: true })\r\n      })\r\n      .catch((error) => setApiResponse(error))\r\n  }\r\n\r\n  const sendStudentImage = (imageUrl, image) => {\r\n    const formDate = new FormData()\r\n    formDate.append(\"file\", image)\r\n    fetch(imageUrl, {\r\n      method: \"POST\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + globalState.authentication.token,\r\n      },\r\n      body: formDate,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (data.statusCode == 201) {\r\n          setApiResponse({ ...data, isFinished: true })\r\n          return\r\n        }\r\n        setApiResponse(data)\r\n      })\r\n  }\r\n\r\n  const handleInputChangeValue = (e, inputName) => {\r\n    switch (inputName) {\r\n      case \"پدر.name\": {\r\n        dispatch({\r\n          type: actionTypes.ADD_STUDENT_RELATIONS,\r\n          payload: {\r\n            ...globalState.studentRelations,\r\n            father: {\r\n              ...globalState.studentRelations?.father,\r\n              name: e.target.value,\r\n              relationship: \"پدر\",\r\n            },\r\n          },\r\n        })\r\n        break\r\n      }\r\n      case \"پدر.job\": {\r\n        dispatch({\r\n          type: actionTypes.ADD_STUDENT_RELATIONS,\r\n          payload: {\r\n            ...globalState.studentRelations,\r\n            father: {\r\n              ...globalState.studentRelations?.father,\r\n              job: e.target.value,\r\n            },\r\n          },\r\n        })\r\n        break\r\n      }\r\n      case \"پدر.jobLocation\": {\r\n        dispatch({\r\n          type: actionTypes.ADD_STUDENT_RELATIONS,\r\n          payload: {\r\n            ...globalState.studentRelations,\r\n            father: {\r\n              ...globalState.studentRelations?.father,\r\n              jobLocation: e.target.value,\r\n            },\r\n          },\r\n        })\r\n        break\r\n      }\r\n\r\n      case \"پدر.phoneNumber\": {\r\n        dispatch({\r\n          type: actionTypes.ADD_STUDENT_RELATIONS,\r\n          payload: {\r\n            ...globalState.studentRelations,\r\n            father: {\r\n              ...globalState.studentRelations?.father,\r\n              phoneNumber: e.target.value,\r\n            },\r\n          },\r\n        })\r\n        break\r\n      }\r\n      case \"کاکا.name\": {\r\n        dispatch({\r\n          type: actionTypes.ADD_STUDENT_RELATIONS,\r\n          payload: {\r\n            ...globalState.studentRelations,\r\n            uncle: {\r\n              ...globalState.studentRelations?.uncle,\r\n              name: e.target.value,\r\n              relationship: \"کاکا\",\r\n            },\r\n          },\r\n        })\r\n        break\r\n      }\r\n      case \"کاکا.job\": {\r\n        dispatch({\r\n          type: actionTypes.ADD_STUDENT_RELATIONS,\r\n          payload: {\r\n            ...globalState.studentRelations,\r\n            uncle: {\r\n              ...globalState.studentRelations?.uncle,\r\n              job: e.target.value,\r\n            },\r\n          },\r\n        })\r\n        break\r\n      }\r\n      case \"کاکا.jobLocation\": {\r\n        dispatch({\r\n          type: actionTypes.ADD_STUDENT_RELATIONS,\r\n          payload: {\r\n            ...globalState.studentRelations,\r\n            uncle: {\r\n              ...globalState.studentRelations?.uncle,\r\n              jobLocation: e.target.value,\r\n            },\r\n          },\r\n        })\r\n        break\r\n      }\r\n      case \"کاکا.phoneNumber\": {\r\n        dispatch({\r\n          type: actionTypes.ADD_STUDENT_RELATIONS,\r\n          payload: {\r\n            ...globalState.studentRelations,\r\n            uncle: {\r\n              ...globalState.studentRelations?.uncle,\r\n              phoneNumber: e.target.value,\r\n            },\r\n          },\r\n        })\r\n        break\r\n      }\r\n      case \"ماما.name\": {\r\n        dispatch({\r\n          type: actionTypes.ADD_STUDENT_RELATIONS,\r\n          payload: {\r\n            ...globalState.studentRelations,\r\n            aunt: {\r\n              ...globalState.studentRelations?.aunt,\r\n              name: e.target.value,\r\n              relationship: \"ماما\",\r\n            },\r\n          },\r\n        })\r\n        break\r\n      }\r\n      case \"ماما.job\": {\r\n        dispatch({\r\n          type: actionTypes.ADD_STUDENT_RELATIONS,\r\n          payload: {\r\n            ...globalState.studentRelations,\r\n            aunt: {\r\n              ...globalState.studentRelations?.aunt,\r\n              job: e.target.value,\r\n            },\r\n          },\r\n        })\r\n        break\r\n      }\r\n      case \"ماما.jobLocation\": {\r\n        dispatch({\r\n          type: actionTypes.ADD_STUDENT_RELATIONS,\r\n          payload: {\r\n            ...globalState.studentRelations,\r\n            aunt: {\r\n              ...globalState.studentRelations?.aunt,\r\n              jobLocation: e.target.value,\r\n            },\r\n          },\r\n        })\r\n        break\r\n      }\r\n      case \"ماما.phoneNumber\": {\r\n        dispatch({\r\n          type: actionTypes.ADD_STUDENT_RELATIONS,\r\n          payload: {\r\n            ...globalState.studentRelations,\r\n            aunt: {\r\n              ...globalState.studentRelations?.aunt,\r\n              phoneNumber: e.target.value,\r\n            },\r\n          },\r\n        })\r\n        break\r\n      }\r\n      case \"برادر.name\": {\r\n        dispatch({\r\n          type: actionTypes.ADD_STUDENT_RELATIONS,\r\n          payload: {\r\n            ...globalState.studentRelations,\r\n            brother: {\r\n              ...globalState.studentRelations?.brother,\r\n              name: e.target.value,\r\n              relationship: \"برادر\",\r\n            },\r\n          },\r\n        })\r\n        break\r\n      }\r\n      case \"برادر.job\": {\r\n        dispatch({\r\n          type: actionTypes.ADD_STUDENT_RELATIONS,\r\n          payload: {\r\n            ...globalState.studentRelations,\r\n            brother: {\r\n              ...globalState.studentRelations?.brother,\r\n              job: e.target.value,\r\n            },\r\n          },\r\n        })\r\n        break\r\n      }\r\n      case \"برادر.jobLocation\": {\r\n        dispatch({\r\n          type: actionTypes.ADD_STUDENT_RELATIONS,\r\n          payload: {\r\n            ...globalState.studentRelations,\r\n            brother: {\r\n              ...globalState.studentRelations?.brother,\r\n              jobLocation: e.target.value,\r\n            },\r\n          },\r\n        })\r\n        break\r\n      }\r\n      case \"برادر.phoneNumber\": {\r\n        dispatch({\r\n          type: actionTypes.ADD_STUDENT_RELATIONS,\r\n          payload: {\r\n            ...globalState.studentRelations,\r\n            brother: {\r\n              ...globalState.studentRelations?.brother,\r\n              phoneNumber: e.target.value,\r\n            },\r\n          },\r\n        })\r\n        break\r\n      }\r\n    }\r\n  }\r\n  return (\r\n    <>\r\n      <div className=\"updateStudent\">\r\n        <div className=\"update_detail\">\r\n          <h1 className=\"text_align_center\">بروزرسانی اطلاعات محصل</h1>\r\n\r\n          {/* Personal Information */}\r\n          <div className=\"form_details_student personal_info right-to-left\">\r\n            <PersonalInformation updatedMode={true} />\r\n          </div>\r\n\r\n          {/* Student Habitation */}\r\n          <div className=\"form_details_student student_habitation left-to-right\">\r\n            <StudentHabitation />\r\n          </div>\r\n\r\n          {/* Student Relatives */}\r\n          {globalState.studentRelations &&\r\n            Object.keys(globalState.studentRelations).map((item) => {\r\n              item = globalState.studentRelations[item]\r\n              return (\r\n                <div\r\n                  className=\"form_details_student student_relatives left-to-right\"\r\n                  key={item.relationship}\r\n                >\r\n                  <div className=\"add_student_stepper_title\">\r\n                    <h3>\r\n                      {item.relationship === \"کاکا\" ||\r\n                      item.relationship === \"ماما\"\r\n                        ? item.relationship + \"ی\"\r\n                        : item.relationship}{\" \"}\r\n                      مـحـصل\r\n                    </h3>\r\n                  </div>\r\n                  <section className=\"build_boxes\">\r\n                    <div className=\"build_box\">\r\n                      <label>نام</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={item.name}\r\n                        onChange={(e) =>\r\n                          handleInputChangeValue(e, item.relationship + \".name\")\r\n                        }\r\n                      />\r\n                    </div>\r\n                    <div className=\"build_box\">\r\n                      <label>وظیفه</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={item.job}\r\n                        onChange={(e) =>\r\n                          handleInputChangeValue(e, item.relationship + \".job\")\r\n                        }\r\n                      />\r\n                    </div>\r\n                    <div className=\"build_box\">\r\n                      <label>محل وظیفه</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={item.jobLocation}\r\n                        onChange={(e) =>\r\n                          handleInputChangeValue(\r\n                            e,\r\n                            item.relationship + \".jobLocation\"\r\n                          )\r\n                        }\r\n                      />\r\n                    </div>\r\n                    <div className=\"build_box\">\r\n                      <label>شماره تماس</label>\r\n                      <input\r\n                        type=\"tel\"\r\n                        id=\"phone\"\r\n                        name=\"phone\"\r\n                        pattern=\"[0-9]{3}-[0-9]{3}-[0-9]{4}\"\r\n                        required\r\n                        value={item.phoneNumber}\r\n                        onChange={(e) =>\r\n                          handleInputChangeValue(\r\n                            e,\r\n                            item.relationship + \".phoneNumber\"\r\n                          )\r\n                        }\r\n                      />\r\n                    </div>\r\n                  </section>\r\n                </div>\r\n              )\r\n            })}\r\n        </div>\r\n      </div>\r\n      <div className=\"text_align_center\" style={{ paddingTop: \"1rem\" }}>\r\n        <Button text={\"بروزرسانی اطلاعات\"} onClick={sendInformationToAPI} />\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default UpdateStudent\r\n","import React, { useState } from \"react\"\r\nimport \"./UpdateStudentPage.css\"\r\nimport UpdateStudent from \"../../components/UpdateStudent/UpdateStudent\"\r\nimport BackDrop from \"../../components/UI/BackDrop/BackDrop\"\r\nimport MessageBox from \"../../components/UI/MessageBox/MessageBox\"\r\nimport ICONS from \"../../constants/Icons\"\r\nimport { useNavigate } from \"react-router-dom\"\r\n\r\nconst UpdateStudentPage = () => {\r\n  const navigate = useNavigate()\r\n  const [apiResponse, setapiResponse] = useState({})\r\n\r\n  return (\r\n    <div className=\"update_student_page fade_in \">\r\n      {/* Student Information */}\r\n      <UpdateStudent setApiResponse={setapiResponse} />\r\n\r\n      {/* Message box For Confirmation */}\r\n      <BackDrop show={apiResponse.show}>\r\n        {\r\n          <MessageBox\r\n            messageType=\"info\"\r\n            firstBtn={{\r\n              btnText: \"تایید\",\r\n              onClick: () => navigate(\"/admin/students\"),\r\n            }}\r\n            message={apiResponse.message}\r\n            iconType={ICONS.info}\r\n          />\r\n        }\r\n      </BackDrop>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UpdateStudentPage\r\n"],"names":["setApiResponse","useProtect","roles","Roles","id","useParams","useState","setStudent","useStateValue","globalState","dispatch","useEffect","fetch","APIEndpoints","method","headers","Authorization","authentication","token","then","res","ok","json","data","type","actionTypes","payload","studentPersonalInfo","file","url","imageUrl","isOk","identification","studentRelations","relatives","forEach","item","relationship","father","uncle","aunt","brother","studentLocations","locations","current","previous","sendStudentImage","image","formDate","FormData","append","body","statusCode","isFinished","handleInputChangeValue","e","inputName","name","target","value","job","jobLocation","phoneNumber","className","PersonalInformation","updatedMode","StudentHabitation","Object","keys","map","onChange","pattern","required","style","paddingTop","Button","text","onClick","relations","r","push","info","studentIdenfication","JSON","stringify","studentImage","show","catch","error","navigate","useNavigate","apiResponse","setapiResponse","BackDrop","MessageBox","messageType","firstBtn","btnText","message","iconType","ICONS"],"sourceRoot":""}